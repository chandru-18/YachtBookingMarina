<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yacht Marina Booking</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header>
        <h1>Yacht Marina Booking</h1>
        <p>Your Premier Destination for Yacht Rentals</p>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <% if (user) { %>
                    <li><a href="/dashboard">Dashboard</a></li>
                    <li><a href="/bookings">My Bookings</a></li>
                    <li><a href="/profile">Profile</a></li>
                    <% if (user.isAdmin) { %>
                        <li><a href="/admin/dashboard">Admin Panel</a></li>
                    <% } %>
                    <li><a href="/logout">Logout</a></li>
                <% } else { %>
                    <li><a href="/login">Login</a></li>
                    <li><a href="/register">Register</a></li>
                <% } %>
            </ul>
        </nav>
    </header>

    <main>
        <div class="message-container">
            <% if (messages.success && messages.success.length > 0) { %>
                <div class="message success"><%= messages.success[0] %></div>
            <% } %>
            <% if (messages.error && messages.error.length > 0) { %>
                <div class="message error"><%= messages.error[0] %></div>
            <% } %>
        </div>

        <section class="hero">
            <h2>Luxury Yacht Rentals for Unforgettable Experiences</h2>
            <p>Explore the seas with our exquisite collection of yachts.</p>
            <a href="#boat-listings" class="btn btn-primary">View Yachts</a>
        </section>

        <section id="boat-listings" class="boat-listings">
            <h2>Our Fleet</h2>
            <% if (boats.length > 0) { %>
                <div class="boat-grid">
                    <% boats.forEach(boat => { %>
                        <div class="boat-card">
                            <img src="<%= boat.imageUrl %>" alt="<%= boat.display || boat.name %>">
                            <h3><%= boat.display || boat.name %></h3>
                            <p class="boat-info">Max Persons: <%= boat.maxPersons %></p>
                            <p class="boat-info">Price: AED <%= boat.pricePerHour %> / hour</p>
                            <p class="boat-description"><%= boat.description %></p>
                            <% if (boat.availability) { %>
                                <a href="/book/<%= boat._id %>" class="btn btn-primary">Book Now</a>
                            <% } else { %>
                                <button class="btn btn-disabled" disabled>Currently Unavailable</button>
                            <% } %>
                        </div>
                    <% }) %>
                </div>
            <% } else { %>
                <p class="text-center">No yachts currently available. Please check back later!</p>
            <% } %>
        </section>
    </main>

    <footer>
        <p>&copy; <%= new Date().getFullYear() %> Yacht Marina Booking. All rights reserved.</p>
    </footer>

    <script src="/script.js"></script>
</body>
</html>